# 네트워크 계층
***
## 네트워크 계층의 역할
* 네트워크 간의 통신을 가능하게 하는 것

### 네트워크간 연결 구조
* 다른 네트워크로 데이터를 전송하려면 ``라우터``라는 네트워크 장비가 필요
  * 라우터는 해당 목적지가 정해지면 해당 목적지까지 어떤 경로로 가는 것이 좋은지를 알려주는 기능을 한다.
  * 그러나 목적지가 어디인지를 모르면 라우터도 경로를 알려주지 못한다.
    * 목적지가 어떤 네트워크의 어떤 컴퓨터인지 알려주는 ``IP주소``를 이용하여 경로를 설정한다.
    * 목적지 IP 주소까지 어떤 경로로 데이터를 보낼지 결정하는 것을 ``라우팅`` 이라 한다.
    * 라우터에는 ``라우팅 테이블``이 있어서 경로 정보를 등록하고 관리
    * 레이어 3 스위치라는 장비도 라우팅이 가능

### IP(Internet Protocol)
* 네트워크 계층에서 캡슐화할 때 IP 헤더를 붙인다.
  * 12개로 구성되는데 중요한 것은 출발지 IP 주소(32bit) 와 목적지 IP주소(32bit)이다.
  * 캡슐화를 통해 IP헤더가 붙은 데이터를 ``IP 패킷``이라고 한다.
***
## IP 주소의 구조
### IP 주소란?
* 실생활에서 주소와 같은 개념
* IP주소는 32bit(8bit=1octet 단위로 나눠서 10진수로 표시)


* IP주소는 ISP에게 받을 수 있다.


* ``IP버전``에는 두가지가 있다
  * IPv4 : 32bit 로 되어있어 IP주소를 약 43억 개를 만들 수 있음
  * IPv6 : 128bit로 되어 있어 340간 개를 만들 수 있다. IPv4의 43억 개로는 IP주소가 부족해서 IPv6 주소를 사용하게 된 것


* ``IP주소``의 종류
  * 공인 IP주소
    * ISP가 제공
    * 인터넷에 직접 연결되는 컴퓨터나 라우터에는 공인 IP주소를 할당
  * 사설 IP주소
    * 회사나 가정의 랜에 있는 컴퓨터는 사설 IP주소를 할당
    * 공인 IP주소를 절약하기 위해서 사설 IP주소를 할당한다.
    * 랜의 네트워크 관리자가 자유롭게 사설 IP주소를 할당하거나 라우터의 ``DHCP``기능을 사용하여 주소를 자동 할당한다.


* IP주소 구성 = ``네트워크 ID + 호스트 ID``
  * 네트워크 ID(주소)
    * 어떤 네트워크인지
  * 호스트 ID(주소)
    * 해당 네트워크의 어느 컴퓨터인지
***
## IP 주소의 클래스 구조
### IP 주소 클래스
* IP주소는 비트로 구분하지만 네트워크 ID를 크게 만들거나 호스트 ID를 작게 만들어 네트워크 크기를 조정할 수 있다.
* 이러한 네트워크 크기는 ``클래스``라는 개념으로 구분하고 있다.  


|클래스 이름|내용|비트크기 구분|IP 전체 범위|사설IP 범위|
:---:|:---:|:---:|:---:|:---:|
|A 클래스|대규모 네트워크 주소|8bit 네트워크 ID + 24bit 호스트 ID|1.0.0.0 ~ 127.255.255.255|10.0.0.0~10.255.255.255|
|B 클래스|중형 네트워크 주소|16bit 네트워크 ID + 16bit 호스트 ID|128.0.0.0 ~ 191.255.255.255|172.16.0.0~172.31.255.255|
|C 클래스|소규모 네트워크 주소|24bit 네트워크 ID + 8bit 호스트 ID|192.0.0.0 ~ 223.255.255.255|192.168.0.0~192.168.255.255|
|D 클래스|멀티캐스트 주소||||
|E 클래스|연구 및 특수용도 주소||||

* 일반 네트워크는 A~C 클래스까지 사용
* 공인 IP주소의 범위와 사설 IP주소의 범위는 전체 범위 내에서 나누어진다.
  * 사설 IP주소의 범위는 절대로 공인 IP주소로 사용할 수 없다
***
## 네트워크 주소와 브로드캐스트 주소의 구조  
### 네트워크 주소와 브로드캐스트 주소
* IP주소는 네트워크 주소와 브로드캐스트 주소로 나누어지는데 이 두 주소는 특별한 주소로 컴퓨터나 라우터가 자신의 IP로 사용하면 안된다.
  * ``네트워크 주소``
    * 전체 네트워크에서 작은 네트워크를 식별하는 데 사용된다
    * 호스트 ID가 10진수로 0이면 그 네트워크 전체를 대표하는 주소가 된다.  
    <br>
  * ``브로드캐스트 주소``
    * 네트워크에 있는 컴퓨터나 장비 모두에게 한 번에 데이터를 전송하는데 사용되는 전용 IP 주소
    * 호스트 ID가 10진수로 255이면 브로드캐스트 주소이다.
***
## 서브넷의 구조
### 서브넷이란?

